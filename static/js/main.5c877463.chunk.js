(this["webpackJsonpowen-dashboard"]=this["webpackJsonpowen-dashboard"]||[]).push([[0],{15:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(8),s=n.n(c),o=n(2),i=n(9),u=n(4),d=n(3),m=(n(15),n(0)),l=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){return setInterval((function(){a.setState({image:a.getImageForHour((new Date).getHours())})}),6e4)},a.state={image:a.getImageForHour((new Date).getHours())},a}return Object(i.a)(n,[{key:"getImageForHour",value:function(e){switch(!0){case e>=23&&e<=4:return"late-night";case e>=22:return"mid-night";case e>=21:return"early-night";case e>=19:return"late-evening";case e>=16:return"mid-evening";case e>=15:return"early-evening";case e>=13:return"late-afternoon";case e>=12:return"mid-afternoon";case e>=10:return"early-afternoon";case e>=7:return"late-morning";case e>=5:return"mid-morning";default:return"early-morning"}}},{key:"render",value:function(){return Object(m.jsx)("div",{className:"background ".concat(this.state.image)})}}]),n}(a.Component),h=n(5),j=n.n(h),p=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){return setInterval((function(){a.setState({datetime:new Date})}),1e3)},a.render=function(){return Object(m.jsxs)("div",{className:"container border-bottom",children:[Object(m.jsx)(j.a,{date:a.state.datetime,format:"dddd, Do MMMM yyyy",className:"medium bright"}),Object(m.jsxs)("div",{children:[Object(m.jsx)(j.a,{className:"large bright",date:a.state.datetime,format:"HH:mm"}),Object(m.jsx)("span",{className:"text-fade",children:Object(m.jsx)(j.a,{className:"medium normal align-top",date:a.state.datetime,format:"ss"})})]})]})},a.state={datetime:new Date},a}return n}(a.Component),b=n(7),O=n.n(b),f=n(10);function T(e){return Object(m.jsxs)("div",{className:"container border-bottom",children:[Object(m.jsx)("div",{className:"medium bright",children:"Edinburgh, GB"}),Object(m.jsxs)("div",{className:"large bright",children:[e.currentTemp,"\xb0C"]}),Object(m.jsxs)("div",{className:"small",children:["Feels like ",e.feelsLikeTemp,"\xb0C"]})]})}function g(e){var t="http://openweathermap.org/img/wn/".concat(e.iconCode,"@2x.png");return Object(m.jsx)("img",{className:"icon greyscale",src:t,alt:""})}function v(e){return console.log(e.showTemp),Object(m.jsxs)("div",{className:"day",children:[!0===e.showTemp&&Object(m.jsx)("span",{className:"temp align-center bold",style:{display:e.showTemp?"block":"none"},children:e.temp}),!1===e.showTemp&&Object(m.jsx)(g,{iconCode:e.icon}),Object(m.jsx)("span",{className:"title",children:e.name})]})}var x=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],w=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).showTemps=function(){return a.setState({showForecastTemps:!0})},a.hideTemps=function(){return a.setState({showForecastTemps:!1})},a.render=function(){var e;return Object(m.jsx)("div",{className:"container forecast ".concat(a.state.showForecastTemps?"shadow":""),onPointerEnter:a.showTemps,onPointerLeave:a.hideTemps,children:null===(e=a.props.days)||void 0===e?void 0:e.map((function(e,t){return Object(m.jsx)(v,{name:x[e.date.getDay()],icon:e.icon,temp:e.temp,showTemp:a.state.showForecastTemps},t)}))})},a.state={showForecastTemps:!1},a}return n}(a.Component),_=function e(t,n,a){Object(o.a)(this,e),this.date=void 0,this.temp=void 0,this.icon=void 0,this.date=t,this.temp=n,this.icon=a},A=Object({NODE_ENV:"production",PUBLIC_URL:"/dashboard",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_LOCATION_LAT:"55.953251",REACT_APP_LOCATION_LON:"-3.188267",REACT_APP_WEATHER_API_KEY:"8b4ec026b257c752e8ee0403ac2f564b"}),N=A.REACT_APP_LOCATION_LAT,P=A.REACT_APP_LOCATION_LON,y=A.REACT_APP_WEATHER_API_KEY,C="https://api.openweathermap.org/data/2.5/onecall?"+"lat=".concat(N)+"&lon=".concat(P)+"&appid=".concat(y)+'&exclude="current,minutely,hourly,alerts&units=metric',E=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).componentDidMount=Object(f.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(C).then((function(e){return e.json()})).then((function(e){return a.setState({currentTemp:a.roundToOnePlace(e.current.temp),feelsLike:a.roundToOnePlace(e.current.feels_like),forecast:a.parseForecast(e),loading:!1})}));case 2:case"end":return e.stop()}}),e)}))),a.parseForecast=function(e){return e.daily.slice(1,6).map((function(e){return new _(new Date(1e3*e.dt),a.roundToOnePlace(e.temp.day),e.weather[0].icon)}))},a.roundToOnePlace=function(e){return Math.round(10*e)/10},a.render=function(){return a.state.loading?Object(m.jsx)("div",{children:"Loading"}):Object(m.jsxs)("div",{children:[Object(m.jsx)(T,{currentTemp:a.state.currentTemp,feelsLikeTemp:a.state.feelsLike}),Object(m.jsx)(w,{days:a.state.forecast})]})},a.state={loading:!0},a}return n}(a.Component);n(20),n(21);var S=function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)(l,{}),Object(m.jsx)(p,{}),Object(m.jsx)(E,{})]})};s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(S,{})}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.5c877463.chunk.js.map